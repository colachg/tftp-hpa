#Generated by Kickstart Configurator
# platform=x86

#System language
lang en_US

#Language modules to install
langsupport en_US

#System keyboard
keyboard us

#System mouse
mouse

#System timezone
timezone --utc Asia/Shanghai

#Root password
rootpw --disabled

#Initial user(user with sudo capabilities, password is tarntect public passowrd as you known but encrypted)
user developer --fullname "developer" --iscrypted --password $1$EjK9oK95$P1UcSoL/VG1PR3IPIBqHk1

#Poweroff after installation
poweroff

#Use text mode install
text

#Use interactive kickstart installation method
interactive

#Install OS instead of upgrade
install
url --url http://192.168.3.32/repository/ustc/ubuntu

#Use CDROM installation media
cdrom

#System bootloader configuration
bootloader --location=mbr 

#Clear the Master Boot Record
zerombr yes

#Partition clearing information
clearpart --all --initlabel 

# Disk LVM settings by using preseed partman
#preseed partman-lvm/device_remove_lvm boolean true
#preseed partman-md/device_remove_md boolean true
#preseed partman-partitioning/confirm_write_new_label boolean true
#preseed partman/choose_partition select finish
#preseed partman/confirm boolean true
#preseed partman/confirm_nooverwrite boolean true
#preseed partman-auto/method string lvm
#preseed partman-auto-lvm/new_vg_name string ubuntu-vg
#preseed partman-auto-lvm/guided_size string max
#preseed partman-lvm/confirm boolean true
#preseed partman-lvm/confirm_nooverwrite boolean true
#preseed partman-auto/choose_recipe select atomic

part pv.1 --grow --size=1 --asprimary
volgroup ubuntu-vg pv.1
logvol / --fstype=ext4 --name=root --vgname=ubuntu-vg --size=1 --grow
#logvol --noformat --name=data --vgname=ubuntu-vg --size=1 --grow 

#System authorization infomation
auth  --useshadow  --enablemd5 

#Network information
# If the system has a single interface the '--device' option isn't needed. If
# you do use it remember that in 18.04 the device names are different. For
# example I was seeing enp0s3 as the interface name.  I haven't tested this
# but you should be able to specify 'interface=enp0s3' as a boot paramater and
# it will be passed through to installer.  I have tested setting the device to
# 'auto' will have it automatically pick the first active interface
#network --bootproto=dhcp --device=enp0s3
#network --bootproto=dhcp --device=auto
preseed netcfg/enable boolean false

#Firewall configuration
# Not supported by ubuntu
firewall --disabled 

#Do not configure the X Window System
skipx

# Additional packages to install
# - Most of these would have installed if it wasn't for turning off
#   install-recommends
# - software-properties-common provides add-apt-repository which is needed for
#   adding additional PPAs. You can remove that if you don't plan on
#   installing anything.  The %post script needs it for adding git
# - Starting in 16.04 Ubuntu no longer installs python v2.7 by default.
#   Instead the default version of python is v3.x.  If you still need v2.7
#   then add the `python` package to this list
# - Uncomment the open-vm-tools line if this is going to run in vmware and are
#   not going to use vmware-tools that's distributed with it. Don't think the
#   --no-install-recommends is needed to not install desktop tools but doesn't
#   hurt anything
%packages
vim
net-tools
openssh-server

# Post sc